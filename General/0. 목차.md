# 0. 목차

## 1. STM32 및 개발환경 개요

- 1.1 마이크로컨트롤러 개념 및 구조 (CPU, Flash, RAM, Peripheral)
- 1.2 STM32 제품군 개요 (F0~F7, G0, H7, L4, WB, WL)
- 1.3 STM32 Naming Rule 해석
- 1.4 주요 개발 보드 (Blue Pill, Nucleo, Discovery)
- 1.5 CubeIDE 설치 및 설정
- 1.6 CubeMX 연동과 프로젝트 생성
- 1.7 CMSIS / HAL / LL / BSP 구조 이해
- 1.8 Toolchain 구성 (GCC ARM, Linker Script, Startup File)
- 1.9 Clock Configuration (HSE, HSI, PLL 설정)
- 1.10 Debug/Release Configuration 관리

------

## 2. CubeIDE 기본 사용법

- 2.1 Project 구조 및 폴더 설명
- 2.2 .ioc 설정 파일 분석
- 2.3 Peripheral Configuration
- 2.4 Pinout View / Configuration 탭 활용
- 2.5 Middleware 추가 (FreeRTOS, USB, FATFS 등)
- 2.6 Code Generation 설정 (HAL Init, User Code 영역)
- 2.7 Build / Clean / Flash / Debug
- 2.8 STM32CubeProgrammer 연동 (DFU, ST-Link)
- 2.9 UART 콘솔 출력 확인 (TeraTerm, PuTTY)

------

## 3. C 언어 & 임베디드 문법 복습

- 3.1 volatile, const, static 키워드
- 3.2 구조체와 비트필드
- 3.3 포인터와 메모리 맵 접근
- 3.4 인터럽트 핸들러 선언
- 3.5 링버퍼, 큐, 상태머신 기초
- 3.6 CMSIS 데이터 타입 (`uint32_t`, `__IO` 등)

------

## 4. GPIO (입출력)

- 4.1 Input / Output / Alternate Function 설정
- 4.2 GPIO 모드 (Push-Pull, Open-Drain, Pull-up/down)
- 4.3 HAL_GPIO API / Register 직접 접근 비교
- 4.4 LED 제어 실습
- 4.5 스위치 입력 디바운싱
- 4.6 외부 인터럽트 (EXTI) 실습
- 4.7 NVIC 설정과 인터럽트 우선순위

------

## 5. Timer / Counter

- 5.1 Timer 구조 (PSC, ARR, CNT)
- 5.2 Time Base 생성 (Delay, Periodic Event)
- 5.3 Output Compare / PWM 생성
- 5.4 Input Capture / Encoder Interface
- 5.5 One Pulse Mode / DMA 연동
- 5.6 SysTick vs General Purpose Timer 비교
- 5.7 Timer Interrupt / Callback 활용

------

## 6. ADC (Analog to Digital Converter)

* 6.1 ADC 원리 및 샘플링 속도

- 6.2 Single / Continuous / Scan 모드
- 6.3 DMA 연동 ADC
- 6.4 여러 채널(멀티채널) 읽기
- 6.5 센서값 필터링 (Moving Average / Kalman)
- 6.6 Internal Sensor (Vrefint, Temperature Sensor)
- 6.7 ADC Calibration 및 보정

### **6A. HAL 구조 및 내부 동작**

- 6A.1 HAL의 계층 구조 (CMSIS ↔ HAL ↔ User Code)
- 6A.2 HAL 드라이버 파일 구조 (`stm32f1xx_hal_xxx.c/h`)
- 6A.3 HAL_Init()과 SystemClock_Config() 분석
- 6A.4 Peripheral Handle 구조체 이해 (`ADC_HandleTypeDef`, `UART_HandleTypeDef`)
- 6A.5 HAL 상태 플래그 (`HAL_OK`, `HAL_BUSY`, `HAL_ERROR`, `HAL_TIMEOUT`)
- 6A.6 Callback 메커니즘 (`HAL_xxx_MspInit`, `HAL_xxx_IRQHandler`)

------

### **6B. HAL API 설계 원리 및 디버깅**

- 6B.1 HAL 함수 호출 흐름 (Init → Config → Start → Callback)
- 6B.2 HAL과 LL, Register 직접 접근 비교
- 6B.3 HAL 디버깅 실습 (Break, Watch Variable)
- 6B.4 HAL Delay / Tick 기반 구조 (`SysTick_Handler`, `uwTick`)
- 6B.5 HAL Library 버전 확인 및 업데이트
- 6B.6 사용자 확장 HAL 함수 작성 (Custom HAL Layer)

------

### **6C. HAL 실습 및 문제 해결**

- 6C.1 GPIO / UART / ADC HAL 내부 동작 분석
- 6C.2 DMA + HAL 연동 디버깅
- 6C.3 Interrupt 기반 HAL 코드 구조 분석
- 6C.4 HAL 동작 중단 / 응답 지연 문제 해결
- 6C.5 HAL Init 순서 오류 / Clock 미설정 사례
- 6C.6 Register-Level 코드 변환 실습 (HAL → LL → Register)

------

## 7. DAC (Digital to Analog Converter)

- 7.1 DAC 기본 원리
- 7.2 정전압 출력
- 7.3 사인파/삼각파 생성 (Timer + DMA)
- 7.4 오디오 출력 실습 (PWM 기반)

------

## 8. UART / USART

- 8.1 비동기 직렬 통신 원리
- 8.2 Baudrate 계산
- 8.3 HAL_UART Transmit/Receive
- 8.4 Interrupt 모드 수신
- 8.5 DMA 기반 UART
- 8.6 Circular Buffer 기반 수신
- 8.7 PC 터미널 통신 실습
- 8.8 Modbus RTU 프로토콜 실습

------

## 9. I²C

- 9.1 I²C 프로토콜 구조 (Start/Stop/Ack)
- 9.2 Master/Slave 모드
- 9.3 HAL I2C Read/Write 실습
- 9.4 센서 (MPU6050, BME280, OLED) 연결
- 9.5 Scan All Device Address 예제
- 9.6 EEPROM(24Cxx) 데이터 저장 실습

------

## 10. SPI

- 10.1 SPI 통신 구조 (CPOL, CPHA)
- 10.2 Master/Slave 설정
- 10.3 HAL_SPI Transmit/Receive
- 10.4 DMA 기반 SPI
- 10.5 센서 (MPU9250, Flash Memory) 실습
- 10.6 TFT LCD / OLED 구동

------

## 11. CAN / LIN / RS485

- 11.1 CAN 프로토콜 개요
- 11.2 Bit Timing 및 필터 설정
- 11.3 CAN Tx/Rx FIFO 구조
- 11.4 RS485 통신 구현 (DE/RE 제어)
- 11.5 LIN 프로토콜 개념
- 11.6 차량용 센서 시뮬레이션

------

## 12. External Interrupt / NVIC

- 12.1 인터럽트 구조 및 벡터 테이블
- 12.2 HAL_NVIC_SetPriority()
- 12.3 Nested Interrupt 시 주의사항
- 12.4 Callback 함수 관리 패턴
- 12.5 Low Power + EXTI 연동

------

## 13. DMA (Direct Memory Access)

- 13.1 DMA 구조 및 동작 원리
- 13.2 ADC-DMA, UART-DMA, SPI-DMA
- 13.3 Circular Buffer DMA 실습
- 13.4 Interrupt + DMA 병행
- 13.5 Memory to Memory 전송

------

## 14. Flash / EEPROM / Backup

- 14.1 Flash 영역 구조 (Page, Sector)
- 14.2 Flash Write/Erase 실습
- 14.3 보정값 저장 (Calibration Data)
- 14.4 EEPROM 에뮬레이션
- 14.5 RTC Backup Register 활용

------

## 15. RTC / Watchdog / Low Power

- 15.1 RTC 구성 및 타임베이스
- 15.2 날짜/시간 설정 및 유지
- 15.3 백업 배터리 연결
- 15.4 Independent Watchdog (IWDG)
- 15.5 Window Watchdog (WWDG)
- 15.6 Sleep / Stop / Standby 모드

------

## 16. FreeRTOS 통합

- 16.1 RTOS 개요 및 스케줄링 원리
- 16.2 Task 생성 / 삭제 / 우선순위
- 16.3 Queue, Semaphore, Mutex
- 16.4 Timer / EventGroup
- 16.5 Task 간 통신 (UART Queue, ADC 공유)
- 16.6 FreeRTOS + HAL 연동 주의점
- 16.7 Low Power + RTOS 실습

------

## 17. Sensor / Peripheral 통합 실습

* 17.1 온습도 / 기압 센서 (DHT22, BME280)

* 17.2 조도 센서 (BH1750)

* 17.3 가속도 / 자이로 센서 (MPU6050, MPU9250)

* 17.4 무게 측정 센서 (HX711 + 로드셀)

* 17.5 거리 / 근접 센서 (HC-SR04, VL53L0X)

* 17.6 공기질 / 가스 센서 (MQ-135, CCS811)

* 17.7 인체 감지 센서 (PIR HC-SR501)

* 17.8 사운드 / 진동 감지 센서 (KY-037, SW-420)

* 17.9 무선 통신 모듈 (HM-10, ESP8266, NEO-6M)

* 17.10 디스플레이 (OLED SSD1306, LCD1602, ST7735 TFT)

* 17.11 입력 장치 (Keypad, 조이스틱, 로터리 인코더)

* 17.12 액추에이터 (Servo, DC Motor, Relay, Buzzer)

------

## 18. Motor / Actuator 제어

- 18.1 PWM 제어 원리
- 18.2 DC 모터 속도 제어
- 18.3 서보모터 제어
- 18.4 스텝모터 구동
- 18.5 모터드라이버 (L298N, TB6612FNG)
- 18.6 센서 피드백 기반 제어 (PID 기본)

------

## 19. USB / FATFS / SD 카드

- 19.1 USB CDC / HID / MSC
- 19.2 SD/MMC SPI 모드
- 19.3 FATFS 파일 시스템 구성
- 19.4 데이터 로깅 (CSV 저장)
- 19.5 SD→PC 데이터 추출

------

## 20. Bootloader / Firmware Update

- 20.1 Bootloader 개념
- 20.2 Flash Partition 및 Application 영역 분리
- 20.3 UART / USB DFU 업데이트
- 20.4 OTA 펌웨어 업데이트 구조
- 20.5 Boot Flag / Version 관리

------

## 21. Debugging / Troubleshooting

- 21.1 ST-Link / SWD / JTAG 구조
- 21.2 Breakpoint, Watch, Live Expression
- 21.3 ITM / SWO / RTT 디버깅
- 21.4 HardFault_Handler 분석
- 21.5 Stack Overflow / Heap Overflow 검출
- 21.6 Logic Analyzer, Oscilloscope 연동

------

## 22. 프로젝트 구조 설계

- 22.1 Layered Architecture 설계
- 22.2 Module / Driver / Task 분리
- 22.3 Config Header 관리
- 22.4 Coding Convention 및 Naming Rule
- 22.5 Git + CubeIDE 연동

------

## 23. 성능 최적화

- 23.1 코드 사이즈 및 속도 측정
- 23.2 HAL vs LL vs Register 성능 비교
- 23.3 DMA + Interrupt 최적화
- 23.4 Compiler Optimization Level (O0~O3)
- 23.5 전력 소모 프로파일링
- 23.6 ISR Latency 최소화

------

## 24. IoT 및 확장 응용

- 24.1 ESP32 / STM32 간 UART 통신
- 24.2 BLE GATT Profile 설계
- 24.3 Wi-Fi 모듈 (ESP8266, ESP32) 연동
- 24.4 MQTT / HTTP 프로토콜
- 24.5 Firebase / ThingsBoard 연동
- 24.6 Android 연동 앱 제작 (BLE / UART Bridge)

------

## 25. 하드웨어 / PCB 설계

- 25.1 STM32 보드 전원 회로 설계
- 25.2 Clock / Reset / SWD 회로
- 25.3 Boot0/1 구성
- 25.4 Peripheral 커넥터 핀아웃 설계
- 25.5 오실로스코프 측정 포인트
- 25.6 PCB 디자인 & DFM 검토

------

## 26. 고급 / 산업 응용

- 26.1 RTOS + Ethernet + TCP/IP (LwIP)
- 26.2 USB Mass Storage + FATFS
- 26.3 Modbus RTU / TCP 통합
- 26.4 Industrial Sensor Gateway
- 26.5 Multi-core MCU (STM32H7 Dual Core)
- 26.6 Secure Boot / Firmware Encryption